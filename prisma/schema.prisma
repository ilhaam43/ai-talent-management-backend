generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x", "linux-musl", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  // url is managed by prisma.config.ts
}

// ============================================
// Identity & RBAC
// ============================================

model User {
  id            String    @id @default(uuid())
  name          String
  email         String    @unique
  emailVerified DateTime? @map("email_verified_at")
  password      String
  createdAt     DateTime  @default(now()) @map("created_at")
  updatedAt     DateTime  @updatedAt @map("updated_at")

  // Relations
  employees                 Employee[]
  candidates                Candidate[]
  candidateAddresses        CandidateAddress[]
  candidateCurrentAddresses CandidateCurrentAddress[]

  @@map("users")
}

model UserRole {
  id        String   @id @default(uuid())
  roleName  String   @map("role_name")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Relations
  employees       Employee[]
  rolePermissions RolePermission[]

  @@map("user_roles")
}

model Permission {
  id             String   @id @default(uuid())
  permissionName String   @map("permission_name")
  description    String?  @db.Text
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  // Relations
  rolePermissions RolePermission[]

  @@map("permissions")
}

model RolePermission {
  id           String   @id @default(uuid())
  userRoleId   String   @map("user_role_id")
  permissionId String   @map("permission_id")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  // Relations
  userRole   UserRole   @relation(fields: [userRoleId], references: [id], onDelete: Cascade)
  permission Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)

  @@map("role_permissions")
}

// ============================================
// Organization Structure
// ============================================

model Directorate {
  id              String   @id @default(uuid())
  directorateName String   @map("directorate_name")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")

  // Relations
  employees    Employee[]
  jobVacancies JobVacancy[]
  groups       Group[]
  divisions    Division[]

  @@map("directorates")
}

model Group {
  id            String   @id @default(uuid())
  directorateId String   @map("directorate_id")
  groupName     String   @map("group_name")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  // Relations
  directorate  Directorate  @relation(fields: [directorateId], references: [id], onDelete: Cascade)
  employees    Employee[]
  jobVacancies JobVacancy[]
  divisions    Division[]

  @@map("groups")
}

model Division {
  id            String   @id @default(uuid())
  directorateId String   @map("directorate_id")
  groupId       String?  @map("group_id")
  divisionName  String   @map("division_name")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  // Relations
  directorate  Directorate  @relation(fields: [directorateId], references: [id], onDelete: Cascade)
  group        Group?       @relation(fields: [groupId], references: [id], onDelete: SetNull)
  employees    Employee[]
  jobVacancies JobVacancy[]
  departments  Department[]

  @@map("divisions")
}

model Department {
  id             String   @id @default(uuid())
  divisionId     String   @map("division_id")
  departmentName String   @map("department_name")
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  // Relations
  division       Division        @relation(fields: [divisionId], references: [id], onDelete: Cascade)
  employees      Employee[]
  jobVacancies   JobVacancy[]
  subDepartments SubDepartment[]

  @@map("departments")
}

model SubDepartment {
  id                String   @id @default(uuid())
  departmentId      String   @map("department_id")
  subDepartmentName String   @map("sub_department_name")
  createdAt         DateTime @default(now()) @map("created_at")
  updatedAt         DateTime @updatedAt @map("updated_at")

  // Relations
  department   Department   @relation(fields: [departmentId], references: [id], onDelete: Cascade)
  employees    Employee[]
  jobVacancies JobVacancy[]

  @@map("sub_departments")
}

model EmployeePosition {
  id               String   @id @default(uuid())
  employeePosition String   @map("employee_position")
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  // Relations
  employees    Employee[]
  jobVacancies JobVacancy[]

  @@map("employee_positions")
}

model Employee {
  id                           String    @id @default(uuid())
  userId                       String    @map("user_id")
  userRoleId                   String    @map("user_role_id")
  employeePositionId           String    @map("employee_position_id")
  directorateId                String?   @map("directorate_id")
  groupId                      String?   @map("group_id")
  divisionId                   String?   @map("division_id")
  departmentId                 String?   @map("department_id")
  subDepartmentId              String?   @map("sub_department_id")
  employeeIdentificationNumber String    @unique @map("employee_identification_number")
  phoneNumber                  String?   @map("phone_number")
  dateOfBirth                  DateTime? @map("date_of_birth") @db.Date
  createdAt                    DateTime  @default(now()) @map("created_at")
  updatedAt                    DateTime  @updatedAt @map("updated_at")

  // Relations
  user             User             @relation(fields: [userId], references: [id], onDelete: Cascade)
  userRole         UserRole         @relation(fields: [userRoleId], references: [id])
  employeePosition EmployeePosition @relation(fields: [employeePositionId], references: [id])
  directorate      Directorate?     @relation(fields: [directorateId], references: [id])
  group            Group?           @relation(fields: [groupId], references: [id])
  division         Division?        @relation(fields: [divisionId], references: [id])
  department       Department?      @relation(fields: [departmentId], references: [id])
  subDepartment    SubDepartment?   @relation(fields: [subDepartmentId], references: [id])

  @@map("employees")
}

// ============================================
// Reference Dictionaries
// ============================================

model JobRole {
  id          String   @id @default(uuid())
  jobRoleName String   @map("job_role_name")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancies JobVacancy[]

  @@map("job_roles")
}

model JobVacancyStatus {
  id               String   @id @default(uuid())
  jobVacancyStatus String   @map("job_vacancy_status")
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancies JobVacancy[]

  @@map("job_vacancy_statuses")
}

model JobVacancyReason {
  id        String   @id @default(uuid())
  reason    String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancies JobVacancy[]

  @@map("job_vacancy_reason")
}

model EmploymentType {
  id             String   @id @default(uuid())
  employmentType String   @map("employment_type")
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancies JobVacancy[]

  @@map("employment_types")
}

model CandidateLastEducation {
  id                 String   @id @default(uuid())
  candidateEducation String   @map("candidate_education")
  createdAt          DateTime @default(now()) @map("created_at")
  updatedAt          DateTime @updatedAt @map("updated_at")

  // Relations
  candidates          Candidate[]
  candidateEducations CandidateEducation[]

  @@map("candidate_last_educations")
}

model Religion {
  id        String   @id @default(uuid())
  religion  String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Relations
  candidates Candidate[]

  @@map("religions")
}

model MaritalStatus {
  id            String   @id @default(uuid())
  maritalStatus String   @map("marital_status")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  // Relations
  candidates Candidate[]

  @@map("marital_statuses")
}

model Nationality {
  id          String   @id @default(uuid())
  nationality String
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  // Relations
  candidates Candidate[]

  @@map("nationalities")
}

model LanguageProficiency {
  id                  String   @id @default(uuid())
  languageProficiency String   @map("language_proficiency")
  createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @updatedAt @map("updated_at")

  // Relations
  candidates Candidate[]

  @@map("language_proficiencies")
}

model Gender {
  id        String   @id @default(uuid())
  gender    String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Relations
  candidates Candidate[]

  @@map("genders")
}

model SocialMedia {
  id          String   @id @default(uuid())
  socialMedia String   @map("social_media")
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  // Relations
  candidateSocialMedia CandidateSocialMedia[]

  @@map("social_media")
}

model DocumentType {
  id           String   @id @default(uuid())
  documentType String   @unique @map("document_type")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  // Relations
  documents CandidateDocument[]

  @@map("document_types")
}

// ============================================
// Geo & Address
// ============================================

model Province {
  id        String   @id @default(uuid())
  province  String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Relations
  cities City[]

  @@map("provinces")
}

model City {
  id         String   @id @default(uuid())
  provinceId String   @map("province_id")
  city       String
  createdAt  DateTime @default(now()) @map("created_at")
  updatedAt  DateTime @updatedAt @map("updated_at")

  // Relations
  province     Province      @relation(fields: [provinceId], references: [id], onDelete: Cascade)
  subdistricts Subdistrict[]

  @@map("cities")
}

model Subdistrict {
  id          String   @id @default(uuid())
  cityId      String   @map("city_id")
  subdistrict String
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  // Relations
  city        City         @relation(fields: [cityId], references: [id], onDelete: Cascade)
  postalCodes PostalCode[]

  @@map("subdistricts")
}

model PostalCode {
  id            String   @id @default(uuid())
  subdistrictId String   @map("subdistrict_id")
  postalCode    String   @map("postal_code")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")

  // Relations
  subdistrict Subdistrict @relation(fields: [subdistrictId], references: [id], onDelete: Cascade)

  @@map("postal_codes")
}

model CandidateAddress {
  id               String   @id @default(uuid())
  userId           String   @map("user_id")
  province         String
  city             String
  subdistrict      String
  postalCode       String   @map("postal_code")
  candidateAddress String   @map("candidate_address") @db.Text
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  // Relations
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("candidate_addresses")
}

model CandidateCurrentAddress {
  id               String   @id @default(uuid())
  userId           String   @map("user_id")
  province         String
  city             String
  subdistrict      String
  postalCode       String   @map("postal_code")
  candidateAddress String   @map("candidate_address") @db.Text
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  // Relations
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("candidate_current_addresses")
}

// ============================================
// Job Vacancies & Applications
// ============================================

model JobVacancyDuration {
  id           String   @id @default(uuid())
  daysDuration Int      @map("days_duration")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancies JobVacancy[]

  @@map("job_vacancy_durations")
}

model JobVacancy {
  id                   String    @id @default(uuid())
  jobRoleId            String    @map("job_role_id")
  employeePositionId   String    @map("employee_position_id")
  jobVacancyStatusId   String    @map("job_vacancy_status_id")
  jobVacancyDurationId String    @map("job_vacancy_duration_id")
  jobVacancyReasonId   String    @map("job_vacancy_reason_id")
  employmentTypeId     String    @map("employment_type_id")
  directorateId        String?   @map("directorate_id")
  groupId              String?   @map("group_id")
  divisionId           String?   @map("division_id")
  departmentId         String?   @map("department_id")
  subDepartmentId      String?   @map("sub_department_id")
  jobRequirement       String?   @map("job_requirement") @db.Text
  jobDescription       String?   @map("job_description") @db.Text
  jobQualification     String?   @map("job_qualification") @db.Text
  jobVacancyClosedAt   DateTime? @map("job_vacancy_closed_at") @db.Date
  cityLocation         String?   @map("city_location")
  minSalary            Decimal?  @map("min_salary") @db.Decimal(15, 2)
  maxSalary            Decimal?  @map("max_salary") @db.Decimal(15, 2)
  createdAt            DateTime  @default(now()) @map("created_at")
  updatedAt            DateTime  @updatedAt @map("updated_at")

  // Relations
  jobRole               JobRole                @relation(fields: [jobRoleId], references: [id])
  employeePosition      EmployeePosition       @relation(fields: [employeePositionId], references: [id])
  jobVacancyStatus      JobVacancyStatus       @relation(fields: [jobVacancyStatusId], references: [id])
  jobVacancyDuration    JobVacancyDuration     @relation(fields: [jobVacancyDurationId], references: [id])
  jobVacancyReason      JobVacancyReason       @relation(fields: [jobVacancyReasonId], references: [id])
  employmentType        EmploymentType         @relation(fields: [employmentTypeId], references: [id])
  directorate           Directorate?           @relation(fields: [directorateId], references: [id])
  group                 Group?                 @relation(fields: [groupId], references: [id])
  division              Division?              @relation(fields: [divisionId], references: [id])
  department            Department?            @relation(fields: [departmentId], references: [id])
  subDepartment         SubDepartment?         @relation(fields: [subDepartmentId], references: [id])
  candidateApplications CandidateApplication[]
  jobVacancySkills      JobVacancySkill[]

  @@map("job_vacancies")
}

model Skill {
  id        String   @id @default(uuid())
  skillName   String   @unique @map("skill_name")
  description String?  @db.Text
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancySkills JobVacancySkill[]

  @@map("skills")
}

model JobVacancySkill {
  id           String   @id @default(uuid())
  jobVacancyId String   @map("job_vacancy_id")
  skillId      String   @map("skill_id")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  // Relations
  jobVacancy JobVacancy @relation(fields: [jobVacancyId], references: [id], onDelete: Cascade)
  skill      Skill      @relation(fields: [skillId], references: [id], onDelete: Cascade)

  @@map("job_vacancy_skills")
}

model ApplicationLastStatus {
  id                    String   @id @default(uuid())
  applicationLastStatus String   @map("application_last_status")
  createdAt             DateTime @default(now()) @map("created_at")
  updatedAt             DateTime @updatedAt @map("updated_at")

  // Relations
  candidateApplications CandidateApplication[]

  @@map("application_last_statuses")
}

model ApplicationPipeline {
  id                  String   @id @default(uuid())
  applicationPipeline String   @map("application_pipeline")
  createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @updatedAt @map("updated_at")

  // Relations
  candidateApplicationPipelines CandidateApplicationPipeline[]
  candidateApplications         CandidateApplication[]

  @@map("application_pipelines")
}

model ApplicationPipelineStatus {
  id                        String   @id @default(uuid())
  applicationPipelineStatus String   @map("application_pipeline_status")
  createdAt                 DateTime @default(now()) @map("created_at")
  updatedAt                 DateTime @updatedAt @map("updated_at")

  // Relations
  candidateApplicationPipelines CandidateApplicationPipeline[]

  @@map("application_pipeline_statuses")
}

model CandidateSalary {
  id                String   @id @default(uuid())
  candidateId       String   @map("candidate_id")
  currentSalary     Decimal? @map("current_salary") @db.Decimal(15, 2)
  expectationSalary Decimal? @map("expectation_salary") @db.Decimal(15, 2)
  createdAt         DateTime @default(now()) @map("created_at")
  updatedAt         DateTime @updatedAt @map("updated_at")

  // Relations
  candidate             Candidate              @relation(fields: [candidateId], references: [id], onDelete: Cascade)
  candidateApplications CandidateApplication[]

  @@map("candidate_salaries")
}

enum AiMatchStatus {
  STRONG_MATCH @map("STRONG MATCH")
  MATCH
  NOT_MATCH    @map("NOT MATCH")
}

model CandidateApplication {
  id                        String         @id @default(uuid())
  jobVacancyId              String         @map("job_vacancy_id")
  candidateId               String         @map("candidate_id")
  candidateSalaryId         String         @map("candidate_salary_id")
  applicationLatestStatusId String         @map("application_latest_status_id")
  applicationPipelineId     String         @map("application_pipeline_id")
  fitScore                  Decimal?       @map("fit_score") @db.Decimal(5, 2)
  aiInsight                 String?        @map("ai_insight") @db.Text
  aiMatchStatus             AiMatchStatus? @map("ai_match_status")
  aiInterview               String?        @map("ai_interview") @db.Text
  aiCoreValue               String?        @map("ai_core_value") @db.Text
  resultSummary             String?        @map("result_summary") @db.Text
  submissionDate            DateTime       @map("submission_date") @db.Date
  createdAt                 DateTime       @default(now()) @map("created_at")
  updatedAt                 DateTime       @updatedAt @map("updated_at")

  // Relations
  jobVacancy                    JobVacancy                     @relation(fields: [jobVacancyId], references: [id], onDelete: Cascade)
  candidate                     Candidate                      @relation(fields: [candidateId], references: [id], onDelete: Cascade)
  candidateSalary               CandidateSalary                @relation(fields: [candidateSalaryId], references: [id])
  applicationLastStatus         ApplicationLastStatus          @relation(fields: [applicationLatestStatusId], references: [id])
  applicationPipeline           ApplicationPipeline            @relation(fields: [applicationPipelineId], references: [id])
  candidateApplicationPipelines CandidateApplicationPipeline[]
  candidateMatchSkills          CandidateMatchSkill[]

  @@map("candidate_applications")
}

model CandidateApplicationPipeline {
  id                          String   @id @default(uuid())
  candidateApplicationId      String   @map("candidate_application_id")
  applicationPipelineId       String   @map("application_pipeline_id")
  applicationPipelineStatusId String   @map("application_pipeline_status_id")
  notes                       String?  @db.Text
  createdAt                   DateTime @default(now()) @map("created_at")
  updatedAt                   DateTime @updatedAt @map("updated_at")

  // Relations
  candidateApplication      CandidateApplication      @relation(fields: [candidateApplicationId], references: [id], onDelete: Cascade)
  applicationPipeline       ApplicationPipeline       @relation(fields: [applicationPipelineId], references: [id])
  applicationPipelineStatus ApplicationPipelineStatus @relation(fields: [applicationPipelineStatusId], references: [id])

  @@map("candidate_application_pipelines")
}

// ============================================
// Candidates & Profiles
// ============================================

enum FamilyStatus {
  FATHER
  MOTHER
  SPOUSE
  CHILD
  SIBLING
  OTHER
}

model Candidate {
  id                        String    @id @default(uuid())
  userId                    String    @map("user_id")
  candidateLastEducationId  String?   @map("candidate_last_education_id")
  religionId                String?   @map("religion_id")
  maritalStatusId           String?   @map("marital_status_id")
  nationalityId             String?   @map("nationality_id")
  languageProficiencyId     String?   @map("language_proficiency_id")
  genderId                  String?   @map("gender_id")
  candidateAddressId        String?   @map("candidate_address_id")
  candidateCurrentAddressId String?   @map("candidate_current_address_id")
  candidateFullname         String?   @map("candidate_fullname")
  candidateNickname         String?   @map("candidate_nickname")
  candidateEmail            String?   @unique @map("candidate_email")
  cityDomicile              String?   @map("city_domicile")
  dateOfBirth               DateTime? @map("date_of_birth") @db.Date
  placeOfBirth              String?   @map("place_of_birth")
  idCardNumber              String?   @unique @map("id_card_number")
  phoneNumber               String?   @map("phone_number")
  createdAt                 DateTime  @default(now()) @map("created_at")
  updatedAt                 DateTime  @updatedAt @map("updated_at")

  // Relations
  user                    User                              @relation(fields: [userId], references: [id], onDelete: Cascade)
  candidateLastEducation  CandidateLastEducation?           @relation(fields: [candidateLastEducationId], references: [id])
  religion                Religion?                         @relation(fields: [religionId], references: [id])
  maritalStatus           MaritalStatus?                    @relation(fields: [maritalStatusId], references: [id])
  nationality             Nationality?                      @relation(fields: [nationalityId], references: [id])
  languageProficiency     LanguageProficiency?              @relation(fields: [languageProficiencyId], references: [id])
  gender                  Gender?                           @relation(fields: [genderId], references: [id])
  documents               CandidateDocument[]
  workExperiences         CandidateWorkExperience[]
  organizationExperiences CandidateOrganizationExperience[]
  educations              CandidateEducation[]
  families                CandidateFamily[]
  familiesLintasarta      CandidateFamilyLintasarta[]
  socialMedia             CandidateSocialMedia[]
  skills                  CandidateSkill[]
  certifications          CandidateCertification[]
  salaries                CandidateSalary[]
  applications            CandidateApplication[]
  matchSkills             CandidateMatchSkill[]

  @@map("candidates")
}

enum JobType {
  FULL_TIME  @map("FULL-TIME")
  PART_TIME  @map("PART-TIME")
  CONTRACT   @map("CONTRACT")
  FREELANCE  @map("FREELANCE")
  INTERNSHIP @map("INTERNSHIP")
}

model CandidateWorkExperience {
  id                        String    @id @default(uuid())
  candidateId               String    @map("candidate_id")
  companyName               String    @map("company_name")
  jobTitle                  String    @map("job_title")
  jobType                   JobType?  @map("job_type")
  fieldOfWork               String    @map("field_of_work")
  industry                  String
  employmentStartedDate     DateTime  @map("employment_started_date") @db.Date
  employmentEndedDate       DateTime? @map("employment_ended_date") @db.Date
  workExperienceDescription String?   @map("work_experience_description") @db.Text
  country                   String
  reasonForResignation      String?   @map("reason_for_resignation") @db.Text
  benefit                   String?   @db.Text
  referenceName             String    @map("reference_name")
  referencePhoneNumber      String    @map("reference_phone_number")
  referenceRelationship     String    @map("reference_relationship")
  createdAt                 DateTime  @default(now()) @map("created_at")
  updatedAt                 DateTime  @updatedAt @map("updated_at")

  // Relations
  candidate Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate_work_experiences")
}

model CandidateOrganizationExperience {
  id                                String    @id @default(uuid())
  candidateId                       String    @map("candidate_id")
  organizationName                  String    @map("organization_name")
  role                              String
  organizationExperienceStartedDate DateTime  @map("organization_experience_started_date") @db.Date
  organizationExperienceEndedDate   DateTime? @map("organization_experience_ended_date") @db.Date
  organizationExperienceDescription String?   @map("organization_experience_description") @db.Text
  location                          String?
  createdAt                         DateTime  @default(now()) @map("created_at")
  updatedAt                         DateTime  @updatedAt @map("updated_at")

  // Relations
  candidate Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate_organization_experiences")
}

model CandidateEducation {
  id                        String    @id @default(uuid())
  candidateId               String    @map("candidate_id")
  candidateLastEducationId  String    @map("candidate_last_education_id")
  candidateSchool           String    @map("candidate_school")
  candidateMajor            String?   @map("candidate_major")
  candidateGpa              Decimal?  @map("candidate_gpa") @db.Decimal(3, 2)
  candidateMaxGpa           Decimal?  @map("candidate_max_gpa") @db.Decimal(3, 2)
  candidateCountry          String?   @map("candidate_country")
  candidateStartedYearStudy DateTime? @map("candidate_started_year_study") @db.Date
  candidateEndedYearStudy   DateTime? @map("candidate_ended_year_study") @db.Date
  createdAt                 DateTime  @default(now()) @map("created_at")
  updatedAt                 DateTime  @updatedAt @map("updated_at")

  // Relations
  candidate              Candidate              @relation(fields: [candidateId], references: [id], onDelete: Cascade)
  candidateLastEducation CandidateLastEducation @relation(fields: [candidateLastEducationId], references: [id])

  @@map("candidate_educations")
}

model CandidateFamily {
  id           String       @id @default(uuid())
  candidateId  String       @map("candidate_id")
  familyStatus FamilyStatus @map("family_status")
  familyName   String       @map("family_name")
  familyJob    String?      @map("family_job")
  createdAt    DateTime     @default(now()) @map("created_at")
  updatedAt    DateTime     @updatedAt @map("updated_at")

  // Relations
  candidate Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate_families")
}

model CandidateFamilyLintasarta {
  id             String       @id @default(uuid())
  candidateId    String       @map("candidate_id")
  familyStatus   FamilyStatus @map("family_status")
  familyName     String       @map("family_name")
  familyPosition String?      @map("family_position")
  createdAt      DateTime     @default(now()) @map("created_at")
  updatedAt      DateTime     @updatedAt @map("updated_at")

  // Relations
  candidate Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate_families_lintasarta")
}

model CandidateSocialMedia {
  id                      String @id @default(uuid())
  candidateId             String @map("candidate_id")
  socialMediaId           String @map("social_media_id")
  candidateSocialMediaUrl String @map("candidate_social_media_url") @db.Text

  // Relations
  candidate   Candidate   @relation(fields: [candidateId], references: [id], onDelete: Cascade)
  socialMedia SocialMedia @relation(fields: [socialMediaId], references: [id])

  @@map("candidate_social_media")
}

model CandidateMatchSkill {
  id                     String   @id @default(uuid())
  candidateId            String   @map("candidate_id")
  candidateApplicationId String   @map("candidate_applications_id")
  candidateMatchSkill    String   @map("candidate_match_skill")
  createdAt              DateTime @default(now()) @map("created_at")
  updatedAt              DateTime @updatedAt @map("updated_at")

  // Relations
  candidate            Candidate            @relation(fields: [candidateId], references: [id], onDelete: Cascade)
  candidateApplication CandidateApplication @relation(fields: [candidateApplicationId], references: [id], onDelete: Cascade)

  @@map("candidate_match_skills")
}

enum CandidateRating {
  ONE   @map("1")
  TWO   @map("2")
  THREE @map("3")
  FOUR  @map("4")
  FIVE  @map("5")
}

model CandidateSkill {
  id              String          @id @default(uuid())
  candidateId     String          @map("candidate_id")
  candidateSkill  String          @map("candidate_skill")
  candidateRating CandidateRating @map("candidate_rating")
  createdAt       DateTime        @default(now()) @map("created_at")
  updatedAt       DateTime        @updatedAt @map("updated_at")

  // Relations
  candidate Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate_skills")
}

model CandidateCertification {
  id                       String    @id @default(uuid())
  candidateId              String    @map("candidate_id")
  certificationTitle       String    @map("certification_title")
  institutionName          String    @map("institution_name")
  location                 String?
  certificationStartDate   DateTime? @map("certification_start_date") @db.Date
  certificationEndedDate   DateTime? @map("certification_ended_date") @db.Date
  certificationDescription String?   @map("certification_description") @db.Text
  filePath                 String?   @map("file_path")
  createdAt                DateTime  @default(now()) @map("created_at")
  updatedAt                DateTime  @updatedAt @map("updated_at")

  // Relations
  candidate Candidate @relation(fields: [candidateId], references: [id], onDelete: Cascade)

  @@map("candidate_certifications")
}

model CandidateDocument {
  id             String   @id @default(uuid())
  candidateId    String   @map("candidate_id")
  documentTypeId String   @map("document_type_id")
  filePath       String   @map("file_path")
  extractedText  String?  @map("extracted_text") @db.Text
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  // Relations
  candidate    Candidate    @relation(fields: [candidateId], references: [id], onDelete: Cascade)
  documentType DocumentType @relation(fields: [documentTypeId], references: [id])

  @@map("candidate_documents")
}
